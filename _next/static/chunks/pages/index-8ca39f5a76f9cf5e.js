(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(85)}])},85:function(n,t,r){"use strict";r.r(t);var e=r(5893),i=r(7294),l=r(2729),s=r.n(l);let a=()=>{let n=Array.from({length:51},()=>Array(51).fill(0)),[t,r]=(0,i.useState)(n),l=[[0,1],[1,0],[0,-1],[-1,0]],[a,f]=(0,i.useState)({x:0,y:0,front:[1,0]}),o=(n,t)=>n===a.x&&t===a.y,y=(0,i.useCallback)(()=>JSON.stringify(a.front)===JSON.stringify([0,1])?[1,0]:JSON.stringify(a.front)===JSON.stringify([1,0])?[0,-1]:JSON.stringify(a.front)===JSON.stringify([0,-1])?[-1,0]:[0,1],[a.front]),c=(0,i.useCallback)(n=>a.x+n<0||a.x+n>50||1===t[a.x+n][a.y],[a.x,t,a.y]),x=(0,i.useCallback)(n=>a.y+n<0||a.y+n>50||1===t[a.x][a.y+n],[a.y,t,a.x]),u=(0,i.useCallback)(()=>{JSON.stringify(a.front)===JSON.stringify([0,1])?f({x:a.x,y:a.y,front:[-1,0]}):JSON.stringify(a.front)===JSON.stringify([1,0])?f({x:a.x,y:a.y,front:[0,1]}):JSON.stringify(a.front)===JSON.stringify([0,-1])?f({x:a.x,y:a.y,front:[1,0]}):f({x:a.x,y:a.y,front:[0,-1]})},[a,f]),N=(0,i.useCallback)(()=>{0!==a.front[0]?c(a.front[0])?u():f({x:a.x+a.front[0],y:a.y,front:a.front}):x(a.front[1])?u():f({x:a.x,y:a.y+a.front[1],front:a.front})},[c,x,u,a.x,a.y,a.front]),_=(0,i.useCallback)(n=>{x(n)?N():f({x:a.x,y:a.y+n,front:y()})},[N,x,a.x,a.y,y]),d=(0,i.useCallback)(n=>{c(n)?N():f({x:a.x+n,y:a.y,front:y()})},[c,N,a.x,a.y,f,y]),g=(0,i.useCallback)(()=>{50===a.x&&50===a.y&&alert("Goal!")},[a]),h=(0,i.useCallback)(()=>{let n=y();0!==n[0]?d(n[0]):_(n[1]),g()},[_,d,g,y]),k=()=>{let n=[];for(let e=0;e<t.length;e++)for(let i=0;i<t[e].length;i++)if(e%2==1&&i%2==1){n.push([e,i]);let l=[...t];l[e][i]=1,r(l)}return n},S=()=>{let n=k(),e=[...t];for(let r of n){let[n,i]=r,s=Math.floor(4*Math.random()),a=l[s],[f,o]=a,y=n+f,c=i+o;y<t.length&&c<t[0].length&&(e[y][c]=1)}r(e)},[O,m]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(O){let n=setInterval(()=>{h(),a.x===t.length-1&&a.y===t[0].length-1&&m(!1)},35);return()=>{clearInterval(n)}}},[O,a.x,a.y,t,h]),(0,e.jsxs)("div",{className:s().container,children:[(0,e.jsx)("button",{onClick:()=>S(),children:"生成"}),(0,e.jsx)("button",{onClick:()=>h(),children:"探索"}),(0,e.jsx)("button",{onClick:()=>m(!0),children:"自動探索"}),(0,e.jsx)("div",{className:s().maze,children:t.map((n,t)=>n.map((n,r)=>(0,e.jsxs)("div",{className:s().cell,children:[1===n&&(0,e.jsx)("div",{className:s().pillar}),!0===o(t,r)&&JSON.stringify(a.front)===JSON.stringify([0,1])&&(0,e.jsx)("div",{className:s().koma,children:"▶"}),!0===o(t,r)&&JSON.stringify(a.front)===JSON.stringify([1,0])&&(0,e.jsx)("div",{className:s().koma,children:"▼"}),!0===o(t,r)&&JSON.stringify(a.front)===JSON.stringify([0,-1])&&(0,e.jsx)("div",{className:s().koma,children:"◀︎"}),!0===o(t,r)&&JSON.stringify(a.front)===JSON.stringify([-1,0])&&(0,e.jsx)("div",{className:s().koma,children:"▲"})]},"".concat(t,"-").concat(r))))})]})};t.default=a},2729:function(n){n.exports={container:"index_container__gnN1f",maze:"index_maze__HlHhr",cell:"index_cell__3W8ZQ",pillar:"index_pillar__bsd7F",button:"index_button__6kyPH",koma:"index_koma__0AkfI"}}},function(n){n.O(0,[774,888,179],function(){return n(n.s=8312)}),_N_E=n.O()}]);